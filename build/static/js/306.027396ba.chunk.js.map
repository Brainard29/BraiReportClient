{"version":3,"file":"static/js/306.027396ba.chunk.js","mappings":"iUAsGA,UAjFoB,WAChB,OAA8BA,EAAAA,EAAAA,UAAS,IAAG,eAAnCC,EAAO,KAAEC,EAAU,KAMlBC,IAFSC,EAAAA,EAAAA,MAEC,yCAAG,yGACMC,IAAAA,IAAU,oCAAoC,KAAD,EAA9DC,EAAQ,OACdJ,EAAWI,EAASC,MAAM,2CAC3B,kBAHe,qCAKhBC,EAAAA,EAAAA,YAAU,WACRL,GACF,GAAG,IAWP,OACE,UAAC,KAAK,CAACM,UAAU,OAAM,WACrB,UAAC,KAAI,YACH,SAAC,KAAI,CAACC,GAAI,GAAG,UACX,SAAC,KAAW,6BAEd,SAAC,KAAI,CAACA,GAAG,OAAM,UACf,SAAC,KAAO,CAACC,QAAS,kBAhBE,SAACV,EAAQW,GAC7B,IAAMC,EAAKC,EAAAA,GAAAA,cAAyBb,GACpCa,EAAAA,GAAAA,cAAyBD,EAAI,CAAC,CAAC,KAAM,gBAAiB,QAAS,OAAQ,MAAO,aAAc,OAAQ,SAAU,QAAS,kBAAmB,SAAU,gBAAiB,gBAAiB,gBAAiB,kBAAmB,SAAU,aAAc,SAAU,WAAY,YAAa,QAAS,CAAEE,OAAQ,OACxS,IAAMC,EAAK,CAAEC,OAAQ,CAAEV,KAAMM,GAAMK,WAAY,CAAC,SAC1CC,EAAcL,EAAAA,GAAWE,EAAI,CAAEI,SAAU,OAAQC,KAAM,UACvDd,EAAO,IAAIe,KAAK,CAACH,GAAc,CAAEE,KAlB1B,oFAmBbE,EAAAA,OAAiBhB,EAAMK,EAlBL,QAmBpB,CAS0BY,CAAcvB,EA9BzB,kBA8B2C,EAAEwB,MAAM,UAAUC,MAAM,eAAeC,SAA4B,GAAlB1B,EAAQ2B,OAAY,yBAG/H,SAAC,KAAS,WACR,SAAC,KAAI,WACD,SAAC,KAAI,UACF3B,EAAQ4B,KAAI,SAACC,GAAC,OACb,SAAC,KAAK,CAAYrB,UAAU,OAAOsB,MAAO,CAAEC,SAAU,UAAW,UAC/D,UAAC,KAAI,CAACvB,UAAU,MAAK,WACnB,SAAC,KAAI,CAACwB,GAAI,EAAE,UACV,SAAC,KAAU,CAACC,IAAKJ,EAAEK,IAAKJ,MAAO,CAAEK,UAAW,QAASJ,SAAU,cAEjE,SAAC,KAAI,CAACC,GAAI,EAAE,UACV,UAAC,KAAS,YACR,oBAAQxB,UAAU,qBAAoB,oBAASqB,EAAEO,UACjD,mBACA,uCAAeP,EAAEQ,SACjB,mBACA,sCAAcR,EAAES,QAChB,mBACA,6CAAqBT,EAAEU,eACvB,mBACA,uCAAeV,EAAEW,SACjB,mBACA,yCAAiBX,EAAEY,WACnB,mBACA,gDAAwBZ,EAAEa,uBAG9B,SAAC,KAAI,KAGL,UAAC,KAAI,YACH,UAAC,KAAO,CAAClC,UAAU,uBAAsB,cAAGqB,EAAEc,MAAK,QACnD,UAAC,KAAK,CAACC,KAAI,yBAAoBf,EAAEgB,IAAK,WACpC,SAAC,IAAK,CAACC,KAAMC,EAAAA,KACb,+CA7BIlB,EAAEgB,GAiCN,YAOxB,C","sources":["views/fitur/list-report/ListReport.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  CCard,\n  CCardBody,\n  CCardImage,\n  CCardHeader,\n  CCardText,\n  CCol,\n  CRow,\n  CButton,\n  CContainer,\n  CFooter,\n  CLink,\n} from '@coreui/react';\nimport * as FileSaver from \"file-saver\";\nimport * as XLSX from \"xlsx\";\nimport { useNavigate } from \"react-router-dom\";\nimport CIcon from \"@coreui/icons-react\";\nimport { cilPen } from '@coreui/icons'\n\nconst ListReports = () => {\n    const [laporan, setLaporan] = useState([]);\n    const fileName = \"Security Report\";\n    const fileType = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n    const fileExtension = \".xlsx\";\n    const navigate = useNavigate();\n    \n      const getLaporan = async () => {\n        const response = await axios.get(\"http://localhost:5000/getReports\");\n        setLaporan(response.data);\n      };\n\n      useEffect(() => {\n        getLaporan();\n      }, []);\n\n      const ExportToExcel = (laporan,fileName) => {\n        const ws = XLSX.utils.json_to_sheet(laporan);\n        XLSX.utils.sheet_add_aoa(ws, [[\"id\", \"Tanggal/Waktu\", \"Shift\", \"Site\", \"PIC\", \"Jenis Giat\", \"Giat\", \"Lokasi\", \"Objek\", \"Jumlah Kegiatan\", \"Temuan\", \"Jumlah Temuan\", \"Detail Temuan\", \"Tindak Lanjut\", \"Kategori Temuan\", \"Status\", \"Keterangan\", \"Gambar\", \"Latitude\", \"Longitude\", \"URL\"]], { origin: \"A1\" });\n        const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\n        const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\n        const data = new Blob([excelBuffer], { type: fileType });\n        FileSaver.saveAs(data, fileName + fileExtension);\n      };\n\n  return (\n    <CCard className=\"mb-4\">\n      <CRow>\n        <CCol xs={10}>\n          <CCardHeader>List Report</CCardHeader>\n        </CCol>\n        <CCol xs=\"auto\">\n        <CButton onClick={() => ExportToExcel(laporan, fileName)} color=\"success\" shape=\"rounded-pill\" disabled={laporan.length == 0}>Excel</CButton>\n        </CCol>\n      </CRow>\n      <CCardBody>\n        <CRow>\n            <CCol>\n              {laporan.map((b) => (\n                <CCard key={b.id} className=\"mb-3\" style={{ maxWidth: '1500px' }}>\n                  <CRow className=\"g-0\">\n                    <CCol md={5}>\n                      <CCardImage src={b.url} style={{ maxHeight: \"400px\", maxWidth: \"300px\" }} />\n                    </CCol>                    \n                    <CCol md={3}>\n                      <CCardText>\n                        <strong className=\"text-high-emphasis\">Shift: {b.shift}</strong>\n                        <br></br>\n                        <strong>Site: {b.site}</strong>\n                        <br></br>\n                        <strong>PIC: {b.pic}</strong>\n                        <br></br>\n                        <strong>Jenis Giat: {b.jenis_giat}</strong>\n                        <br></br>\n                        <strong>Giat: {b.giat}</strong>\n                        <br></br>\n                        <strong>Temuan: {b.temuan}</strong>\n                        <br></br>\n                        <strong>Tindak Lanjut: {b.tindak_lanjut}</strong>\n                      </CCardText>\n                    </CCol>\n                    <CCol>\n\n                    </CCol>\n                    <CCol>\n                      <CFooter className=\"text-medium-emphasis\"> {b.dates} </CFooter>\n                      <CLink href={`/update-report/${b.id}`}>\n                        <CIcon icon={cilPen}></CIcon>\n                        <strong>Edit</strong>\n                      </CLink>\n                    </CCol>\n                  </CRow>\n                </CCard>\n              ))}\n            </CCol>\n        </CRow>\n      </CCardBody>\n    </CCard>\n  )\n}\n\nexport default ListReports;"],"names":["useState","laporan","setLaporan","getLaporan","useNavigate","axios","response","data","useEffect","className","xs","onClick","fileName","ws","XLSX","origin","wb","Sheets","SheetNames","excelBuffer","bookType","type","Blob","FileSaver","ExportToExcel","color","shape","disabled","length","map","b","style","maxWidth","md","src","url","maxHeight","shift","site","pic","jenis_giat","giat","temuan","tindak_lanjut","dates","href","id","icon","cilPen"],"sourceRoot":""}